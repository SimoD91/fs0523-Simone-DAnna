<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Esercizio Fetch GET</title>
</head>
<body>

<h1 class="text-center">Esercizio Fetch GET</h1>
<div class="container">
    <div class="row row-cols-sm-4 row-cols-md-4 row-cols-lg-4">
    </div>
</div>

<script>

fetch("https://striveschool-api.herokuapp.com/books")
.then(res => res.json())
.then(res => {

    let fila = document.querySelector(".row");
    res.forEach(asin => {
        let libro = asin
        let colonna = document.createElement("div");
        colonna.className = "col mb-4";
        colonna.innerHTML = `<div class="card">
                            <img src=${asin.img} class="card-img-top">
                            <div class="card-body">
                            <p class="card-title text-bold">${asin.title}</p>
                            <p>${asin.price} $</p>
                            <button class="btn">Rimuovi</button>
                            </div>
                            </div>`

        fila.appendChild(colonna);
        })
})

//Ho fatto qualche prova per la creazione del bottone di eliminazione ma non ci sono riuscito\\

/* let deleteBtn = document.querySelector(".btn");

deleteBtn.addEventListener("click", function(event) {  
if (event.target.class == deleteBtn) {
fetch("https://striveschool-api.herokuapp.com/books",{
method:"DELETE",
headers:{"Content-Type":"application/json"
},
body:JSON.stringify(asin);
}
)
.then(res => res.json());
        }
    }
)*/

</script>
</body>
</html>